<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>CryptoDog | Powered by AiM</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&amp;display=swap" rel="stylesheet"/>
<style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Orbitron', sans-serif;
      background: url('/static/cyberpunk-bitcoin-illustration.png') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 30px;
      background: rgba(0, 0, 0, 0.7);
      border-bottom: 2px solid #0ff;
    }
    .header img {
      height: 60px;
    }
    h1 {
      font-size: 1.8em;
      color: #0ff;
      text-shadow: 0 0 10px #0ff;
    }
    .section {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      margin: 30px auto;
      max-width: 1200px;
    }
    .box {
      background: rgba(0,0,0,0.7);
      padding: 20px;
      width: 300px;
      border-radius: 12px;
      box-shadow: 0 0 15px #0ff;
      text-align: center;
    }
    .box h2 {
      font-size: 1.3em;
      color: #ff00ff;
      text-shadow: 0 0 8px #ff00ff;
      margin-bottom: 10px;
    }
    #newsBox ul {
      list-style-type: square;
      text-align: left;
      padding-left: 20px;
      font-size: 0.9em;
    }
    .buy-signal {
      background-color: rgba(255, 0, 128, 0.9);
      padding: 10px;
      color: white;
      font-weight: bold;
      text-align: center;
      text-shadow: 0 0 5px #fff;
      font-size: 1rem;
      border-top: 2px solid #ff00ff;
      border-bottom: 2px solid #ff00ff;
    }
    .crypto-face {
      height: 60px;
    }
    ul.crypto-history {
      list-style: none;
      padding-left: 0;
      text-align: left;
      font-size: 0.9em;
    }
    .crypto-history li {
      margin-bottom: 5px;
    }
  
#topNewsList a {
    color: #ffff66;
    text-decoration: none;
}
#topNewsList a:hover {
    color: white;
}
</style>
</head>
<body>
<div class="header">
<img alt="AiM Logo" src="/static/logo.png"/>
<h1>CryptoDog Dashboard</h1>
<img alt="CryptoDog" class="crypto-face" id="dogFace" src="/static/neutral.png"/>
</div>
<div class="buy-signal" id="buySignalBar">
    Tracking Live Signals...
  </div>
<div class="section">
<div class="box" id="topRiserBox">
<h2>Top Riser</h2>
<div id="topRiserInfo"></div>
<div id="topRiserIcon" style="margin-top: 10px;"></div>
</div>
<div class="box" id="starRiserBox">
<h2>‚≠ê Star Riser</h2>
<div id="starRiserInfo"></div>
<div id="starRiserIcon" style="margin-top: 10px;"></div>
</div>
<div class="box" id="newsBox">
<h2>üì∞ Top News</h2>
<ul id="newsList"></ul>
</div>
</div>
<div class="section">
<div class="box">
<h2>üìà Top Riser History</h2>
<ul class="crypto-history">
<li><strong>SOL</strong> | +6.12% | $160.45 <span style="color:gray;">(13:05)</span></li>
<li><strong>ETH</strong> | +5.88% | $3,245.12 <span style="color:gray;">(12:53)</span></li>
<li><strong>XRP</strong> | +5.32% | $0.58 <span style="color:gray;">(12:41)</span></li>
<li><strong>ADA</strong> | +4.99% | $0.41 <span style="color:gray;">(12:20)</span></li>
<li><strong>DOT</strong> | +4.80% | $6.72 <span style="color:gray;">(12:04)</span></li>
</ul>
</div>
<div class="box">
<h2>üåü Star Riser History</h2>
<ul class="crypto-history">
<li><strong>SOL</strong> | +5.21% | $161.12 <span style="color:gray;">(13:05)</span></li>
<li><strong>ETH</strong> | +5.36% | $3,251.00 <span style="color:gray;">(11:47)</span></li>
<li><strong>LINK</strong> | +5.19% | $17.02 <span style="color:gray;">(11:02)</span></li>
<li><strong>MATIC</strong> | +5.04% | $0.92 <span style="color:gray;">(10:35)</span></li>
</ul>
</div>
</div>
<div class="section">
<div class="box">
<h2>üí∏ Buy Crypto Simulator</h2>
<select id="coinSelect">
<option value="BTC">BTC</option>
<option value="ETH">ETH</option>
<option value="SOL">SOL</option>
</select><br/>
<input id="mockAmount" placeholder="Amount in USD" type="number" value="1000"/><br/>
<button onclick="startTracking()">Start</button>
<button onclick="stopTracking()">Stop</button>
<div class="results" id="trackingResults" style="margin-top:10px;"></div>
</div>
<div class="box">
<h2>üìä Live Bitcoin Chart</h2>
<iframe frameborder="0" height="200" scrolling="auto" src="https://s.tradingview.com/embed-widget/mini-symbol-overview/?symbol=COINBASE:BTCUSD&amp;interval=30&amp;locale=en" width="100%"></iframe>
</div>
<div class="box">
<h2>üéì Learn to Trade with Arnie</h2>
<p>Sign up to our paid GPT-powered AI mentor program.</p>
<p><strong>Tailored crypto strategies &amp; insights.</strong></p>
<a href="/signup" style="text-decoration: none;">
<button>Sign Up for Arnie</button>
</a>
</div>
</div>
<script>
function updateRiser(boxPrefix, data) {
  const { coin, change, price } = data;
  const lowerCoin = coin.toLowerCase();
  const iconUrl = `/static/coins/${lowerCoin}.png`;
  const infoDiv = document.getElementById(`${boxPrefix}Info`);
  const iconDiv = document.getElementById(`${boxPrefix}Icon`);

  infoDiv.innerHTML = `
    <img src="${iconUrl}" 
         style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;" 
         onerror="this.onerror=null;this.src='/static/images/happy.png';">
    <strong>${coin}</strong> | +${change} | $${price}
  `;

  iconDiv.innerHTML = `
    <img src="${iconUrl}" 
         style="width: 80px; height: 80px;" 
         onerror="this.onerror=null;this.src='/static/images/happy.png';">
  `;
}
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  function updateTopRiser() {
    fetch("/api/top-riser")
      .then((res) => res.json())
      .then((data) => {
        const { coin, change, price } = data;
        const info = document.getElementById("topRiserInfo");
        const icon = document.getElementById("topRiserIcon");
        info.innerHTML = `<strong>${coin}</strong><br>${change} | ${price}`;

        const img = document.createElement("img");
        img.src = `/static/coins/${coin.toLowerCase()}.png`;
        img.alt = coin;
        img.width = 40;
        img.onerror = () => { img.src = "/static/images/Happy.png"; };
        icon.innerHTML = "";
        icon.appendChild(img);
      });
  }

  function updateStarRiser() {
    fetch("/api/star-riser")
      .then((res) => res.json())
      .then((data) => {
        const { coin, change, price } = data;
        const info = document.getElementById("starRiserInfo");
        const icon = document.getElementById("starRiserIcon");
        info.innerHTML = `<strong>${coin}</strong><br>${change} | ${price}`;

        const img = document.createElement("img");
        img.src = `/static/coins/${coin.toLowerCase()}.png`;
        img.alt = coin;
        img.width = 40;
        img.onerror = () => { img.src = "/static/images/Happy.png"; };
        icon.innerHTML = "";
        icon.appendChild(img);
      });
  }

  function updateNews() {
    fetch("/api/crypto-news")
      .then((res) => res.json())
      .then((items) => {
        const newsList = document.getElementById("newsList");
        newsList.innerHTML = "";
        items.forEach((item) => {
          const li = document.createElement("li");
          li.innerHTML = `<a href="${item.link}" target="_blank">${item.title}</a>`;
          newsList.appendChild(li);
        });
      });
  }

  updateTopRiser();
  updateStarRiser();
  updateNews();

  setInterval(() => {
    updateTopRiser();
    updateStarRiser();
  }, 10000);

  setInterval(updateNews, 60000);
});
</script>
</body></html>
